From f900d4121a063f969b400e14a3c003d915a1404d Mon Sep 17 00:00:00 2001
From: dob3001 <james.dobson@dob.me.uk>
Date: Fri, 13 Sep 2019 15:20:37 +0100
Subject: [PATCH 1/3] Fix issue where the socket doesn't get forgotten and
 causes 100% load.

---
 gbulb/transports.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/gbulb/transports.py b/gbulb/transports.py
index ebc9f81..94e4a7a 100644
--- a/gbulb/transports.py
+++ b/gbulb/transports.py
@@ -72,7 +72,7 @@ class BaseTransport(transports.BaseTransport):
             self._protocol.connection_lost(exc)
         finally:
             if self._sock is not None:
-                self._sock.close()
+                self._sock.detach()
                 self._sock = None
             if self._server is not None:
                 self._server._detach()
-- 
2.25.4

